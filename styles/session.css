/* Keyframes must live outside @layer so browsers can resolve them from within the layer */
@keyframes orb-breathe {
  0%, 100% { transform: scale(0.72); opacity: 0.7; }
  50%       { transform: scale(1);   opacity: 1;   }
}

@keyframes ring-pulse {
  0%, 100% { transform: scale(0.85); opacity: 0.2; }
  50%       { transform: scale(1.1); opacity: 0.5; }
}

@layer components {

  .orb-container {
    position: relative;
    width: 180px;
    height: 180px;
    margin: 2rem auto;
  }

  .orb-core {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: radial-gradient(
      circle at 35% 35%,
      rgba(125, 184, 145, 0.5),
      rgba(125, 184, 145, 0.15) 60%,
      transparent 100%
    );
    box-shadow:
      0 0 40px var(--color-accent-glow),
      0 0 80px var(--color-accent-glow);
    animation: orb-breathe var(--orb-duration, 9s) ease-in-out infinite;
    animation-play-state: paused;
  }

  .orb-ring {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    border: 1px solid var(--color-accent-light);
    animation: ring-pulse var(--orb-duration, 9s) ease-in-out infinite;
    animation-play-state: paused;
  }

  .orb-container[data-state] .orb-core,
  .orb-container[data-state] .orb-ring {
    animation-play-state: running;
  }

  #stop-btn {
    width: auto;
    min-width: 140px;
    align-self: center;
    display: block;
    margin: 0 auto;
  }

  @media (prefers-reduced-motion: reduce) {
    .orb-core,
    .orb-ring { animation: none; }
    .orb-core { transform: scale(0.9); opacity: 0.85; }
  }

} /* end @layer components */
